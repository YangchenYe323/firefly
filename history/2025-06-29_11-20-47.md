## Prompt

Familiarize yourself with the architecture and code organization of the project, which is a web application built with NextJS to provide a spotify-like experience to display songs of a vtuber. 

Read the doc/ directory and the source code to understand how each module works and fits together now. Then I'd like to develop a new feature speced as follows

Goal: allow users to play songs where available from the song list instead of relying on a dedicated song player tab at the top. Also implement integration with media metadata so IOS lockscreen can show the album and song that is playing.

- For every song that is available for play (i.e., has a bucket_url pointing to the m4a audio stored in object storage), when user hover over the song's album it should show a play button, and clicking that button triggers the player at the buttom of the page to pop up. Be careful that clicking other parts of the song should remain the same behavior, i.e.., copying to clipboard.
- The song player functionalities should work the same, support going to the next/last song, changing the order of playing and manage duration.
- Implement a new tag to support filtering all songs that are playable.
- For song that are playable, add a small musical icon to the right of the title

### Follow-up 1
Please fix a couple issues:
- The "可播放“ filtering seems to not work. I see a lot of non-playable songs when selecting that tag.
- Move the "可播放" tag to the front of the tag list
- When a song is being played, hovering over the album pic should show a pause button and pause the song accordingly.

### Follow-up 2
 Ok this works! However, the next and previous buttons don't work. I'd like clicking the button to proceed to next/previous song specified by the current rule (sequential or random) Now clicking next just restarts the current song. Please fix it.

### Follow-up 3
Great! One more issue. The artwork is not properly initialized for the media metadata, so I didn't see the album picture on my lockscreen. Could you check out how the artwork is fetched for each song row and populate the artwork for the player media metadata?

### Follow-up 4
When I click on mobile, I had to click twice, once to get the play button to show up and the second time to play the song, which is not ideal. On mobile I'd like a click on the album pic to just play the song

### Follow-up 5
Please refine the UI a little bit. Now a playable song on mobile always has the play button, which is ugly. I'd like it to not show the play button at all on mobile. When user clicks it. It plays the song and shows a pause button, and if the user clicks pause, it pauses it and come back to the plain vanilla album pic

### Follow-up 6
Now improve the styling of the song player to:
- Show a small version of the album pic at the left and adjust other UIs to the right
- Style the div, add a little bit of shades and colors to make it stand up in comparison to the background and have a modern feel.

### Follow-up 7
This is not what I'd like. Please revert and let me clarify my requirement a bit:
- Show the album pic but the overall height of the player should remain roughly the same as the old version. I'd like it to be slim. Make the pic really small so you could fit in the pause/next/prev button, a progress bar and timestamp, and the mode change buttons on the right
- I'd like the color of the song player to be a very light shade of cyan or whatever matches well with the overall background. Don't do dark song player background. I'd like a tiny bit of shadow at the border to make it stand up and a tiny bit of transparency to make it mingle with the background

### Follow-up 8
Ok, cyan is not great. Let's just keep the song player white. Furthermore, please align the song player's width with the song panel's width, and align the album pic

### Follow-up 9
Don't have the song player take over the entrie width of the row, make it align with the panel's with and be a rectangluar box in the bottom.

### Follow-up 10
Now the width is right but it doesn't align with the panel. It appears in the right of the panel. I'd like it to be aligned exactly with the panel.

### Follow-up 11
Ok, now it is in the right shape. However, the appearance is a bit unfriendly when the player pops over the list. Could you make the player extend to cover the bottom of the screen so no song list could bleed out below the player? Also, I'd like some similar handlings at border with song panel against the background for song players against the song panel so it stands out

### Follow-up 12
Ok, now please update document to reflect the changes made 

### Follow-up 13
Please fix a bug: When I start from playing a song without an artwork, it doesn't show the album pic which is expected, but when I later move to other songs using playback buttons or click the other songs, still no album pic is shown