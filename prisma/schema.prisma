// schema.prisma

generator client {
  provider      = "prisma-client-js"
  output        = "../src/generated/client"
  binaryTargets = ["native", "rhel-openssl-1.0.x"]
}

/// Always after the prisma-client-js generator
generator json {
  provider  = "prisma-json-types-generator"
  namespace = "PrismaJson"
}

datasource db {
  provider = "postgresql"
  url      = env("POSTGRES_PRISMA_URL") // uses connection pooling
}

model Song {
  id         Int      @id @default(autoincrement())
  // 歌名
  title      String
  // 歌手
  artist     String
  // 语种
  lang       String[]
  // 标签
  tag        String[]
  // 作品链接
  url        String?
  // 备注
  remark     String
  // 创建时间
  created_on DateTime @default(now())
  // 服务器管理的数据（点赞，点踩，etc.)
  /// [SongExtraType]
  extra      Json
}

model User {
  username      String @id
  salt          String
  password_hash String
}

model Feedback {
  id         String   @id @default(uuid())
  content    String
  created_on DateTime @default(now())
}
